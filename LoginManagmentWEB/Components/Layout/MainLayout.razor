@inherits LayoutComponentBase
@using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage
@inject ProtectedSessionStorage Session
@inject NavigationManager Nav

<div class="top-bar">
    <div class="left-section">
        <a href="javascript:void(0)" class="nav-icon" @onclick="GoHome">
            <img src="icons/home.png" alt="Home" class="icon" />
        </a>
    </div>
</div>

<div class="main-content">
    @Body
</div>

<div id="blazor-error-ui" data-nosnippet>
    An unhandled error has occurred.
    <a href="." class="reload">Reload</a>
    <span class="dismiss">🗙</span>
</div>

@code {
    private async Task GoHome()
    {
        // Elimina el token guardado (igual que en tu Logout)
        await Session.DeleteAsync("authToken");

        // Redirige al home
        Nav.NavigateTo("/", forceLoad: true);
    }
}

